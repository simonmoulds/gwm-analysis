calc_gross_irrigated_area 
gross_irrigated_area 
irrigation_source_frac 
irrigation_source_area 
irrigation_source_area 
sum(irrigation_source_area )
sum(as.numeric(irrigation_source_area ))
length(canal_cmd_area_vals)
length(cell_area_vals)
length(crop_area_vals)
length(winter_crop_area_vals)
canal_cmd_area_vals 
crop_area_vals 
allocated_area_vals_list
allocated_area_vals_list
total_continuous_allocated_area_vals
seasons 
irri_sources 
season 
seasons 
total_allocated_area_vals
sum(total_allocated_area_vals)
season="kharif"
sum(total_allocated_area_vals)
kharif_irrigated_area
season="rabi"
rabi_irrigated_area
sum(total_allocated_area_vals)
suit_vals_list[["canal"]]
length(suit_vals_list[["canal"]])
suit_vals_list[["canal"]]==0
length(which(suit_vals_list[["canal"]]==0))
net_cropland_area 
total_cropland_area_2005
net_cropland_scale_factor
season="kharif"net_cropland_scale_factor
source="canal"
season="kharif"
key
vals 
length(vals)
allocated_area_maps_list[[key]]
plot(allocated_area_maps_list[[key]])
dist_frac_pts 
allocated_area_vals_list
length(allocated_area_vals_list)
length(output_maps)
q()
n
source("02-perform-allocation.R")
q()
n
source("02-perform-allocation.R")
icrisat_poly_ds 
icrisat_poly_ids
src 
plot(poly)
plot(poly, max.plot=1)
names(poly)
dim(poly)
names(poly)
poly
dim(poly
)
poly 
names(poly)
poly 
r=raster("../../ganges_water_machine/data/india_frac_0.500000Deg.tif")
plot(r)
r=raster("../../ganges_water_machine/data/india_frac_0.500000Deg.tif")
r
plot(r)
r=raster("../../ganges_water_machine/data/tmp1.tif")
plot(r)
plot(r)
r
v=getValues(r)
unique(v)
table(v)
r=raster("../../ganges_water_machine/data/g2015_2010_0.tif")
r
plot(r)
table(getValues(r))
v=getValues(r)
length(which(is.na(v)))
length(which(is.na(v)))
r=raster("../../ganges_water_machine/data/tmp1.tif")
v=getValues(r)
length(which(is.na(v)))
plot(r)
length(v)
r=raster("../../ganges_water_machine/data/tmp1.tif")
r
v=getValues(r)
length(v)
length(which(is.na(v)))
plot(r)
table(v)
r=raster("../../ganges_water_machine/data/tmp2.tif")
plot(r)
r=raster("../../ganges_water_machine/data/tmp3.tif")
r=raster("../../ganges_water_machine/data/india_frac_0.500000Deg.tif")
plot(r)
v=getValues(r)
v
length(which(v==1))
length(which(v>0.999))
length(which(v>0.99))
length(which(v>0.95))
length(which(v>0.99))
r
r[r>0.99]=1
plot(r)
q()
n
source("02-perform-allocation.R")
source("02-perform-allocation.R")
crop_area_vals 
max(crop_area_vals)
source("02-perform-allocation.R")
icrisat_data_2005
names(icrisat_data_2005)
icrisat_data_2005$POLY_ID[icrisat_data_2005$dist_code==3413]
icrisat_data_2005$POLY_ID 
icrisat_data_2005$dist_code==3413
which(icrisat_data_2005$dist_code==3413)
 icrisat_data_2005$dist_code
which(icrisat_data_2005$dist_name=="Hazaribag")
icrisat_data_2005[360,]
plot(icrisat_data_2005[360,])
icrisat_data_2005[360,]
j=360
id
length(ids)
plot(icrisat_data_2005[360,])
ids 
icrisat_data_2005[360,]
icrisat_data_2005[360,]$POLY_ID 
which(ids %in% 423)
j=277
id 
dist_icrisat_data 
total_cropland_area_2005 
dist_crop_area 
dist_crop_area 
dist_frac 
total_cropland_area_2005 
length(dist_frac_pts)
net_cropland_scale_factor
sum(cell_area_vals)
cell_area_vals 
sum(crop_area_vals)
crop_area_vals 
max(crop_area_vals )
output_maps[["net_cropland_area"]][dist_frac_pts]
crop_area_vals 
sum(crop_area_vals)
dist_crop_area 
crop_area_vals 
sum(crop_area_vals)
dist_crop_area 
dist_crop_area[dist_frac_pts]
sum(dist_crop_area[dist_frac_pts])
total_cropland_area_2005 
net_cropland_area 
sum(crop_area_vals)
total_cropland_area_2005 
net_cropland_area_2005 
dist_icrisat_data$net_cropland_area_2005 
dist_icrisat_data$net_cropped_area_2005 
source("02-perform-allocation.R")
source("02-perform-allocation.R")
icrisat_data_2005$POLY_ID[icrisat_data$dist_name %in% "Ludhiana"]
icrisat_data_2005[48,]
icrisat_data$POLY_ID[icrisat_data$dist_name %in% "Ludhiana"]
icrisat_data[icrisat_data$POLY_ID %in% 48,]
which(ids %in% 48)
icrisat_data$POLY_ID[icrisat_data$dist_name %in% "Ludhiana"]
source("02-perform-allocation.R")
j=18
crop_area_vals 
irrigation_source_area 
total_allocated_area_vals 
names(allocated_area_vals_list)
allocated_area_vals_list[1:5]
as.data.frame(allocated_area_vals_list[1:5])
rowSums(as.data.frame(allocated_area_vals_list[1:5]))
controwSums(as.data.frame(allocated_area_vals_list[1:5])
continuous_total 
kharif_total 
continuous_total 
rabi_total 
rabi_total > crop_area_vals 
sum(crop_area_vals)
names(irrigation_source_area)
sum(irrigation_source_area[11:15])
irrigation_source_area[11:15]
total_cropland_area_2005 
total_cropland_area
net_irrigated_scale_factor 
dist_icrisat_data$net_irrigated_area
dist_icrisat_data$net_cropped_area
gross_irrigated_scale_factor
sum(net_cropland_area)
multi_cropped_area 
gross_cropland_area 
net_cropland_area 
gross_cropland_area
dist_icrisat_data 
net_cropland_scale_factor 
gross_irrigated_scale_factor
multi_cropped_area 
rabi_cropland_area 
zaid_cropland_area 
zaid_cropland_area2
rabi_cropland_area2 
rabi_irrigated_area 
rabi_irrigated_area 
zaid_irrigated_area 
continuous_irrigated_area 
zaid_total 
rabi_total > crop_area_vals 
which(rabi_total > crop_area_vals )
which(rabi_total > crop_area_vals )
rabi_total > crop_area_vals 
length(which(rabi_total > crop_area_vals))
min(rabi_total - crop_area_vals)
kharif_total > crop_area_vals 
kharif_total >= crop_area_vals
sum(kharif_total)
sum(rabi_total)
sum(crop_area_vals)
source("02-perform-allocation.R")
source("02-perform-allocation.R")
j
gross_cropland_area 
net_cropland_area 
total_cropland_area 
total_cropland_area_2005 
calc_gross_cropland_area 
dist_icrisat_data 
ids[36]
icrisat_data_2005[icrisat_data_2005$POLY_ID==71,]
703.2269 * 1.526078
source("01-process-icrisat-data.R")
dists 
dim(y)
y$state_name
names(y)
y$STATE 
unique(y$STATE )
src 
names(src)
src[["State.Name"]]
src[["State.Name"]] %>% unique
lu[["State.Name"]] %>% unique
lu[["State.Name"]] %>% unique
names(lu)
source("01-process-icrisat-data.R")
x
dim(x)
names(x)
x$state_name 
x$state_name 
unique(x$state_name )
x %>% filter(state_name %in% "Delhi")
names(x)
names(y)
x
y 
y
grep("Delhi", y)
grep("Delhi", x)
x
x[1]
dim(src)
src 
names(src)
src[["State.Name"]]
unique(src[["State.Name"]])
unique(src[["State.Code"]])
unique(lu[["State.Code"]])
unique(src[["State.Code"]])
unique(lu[["State.Code"]])
dim(x)
dim(y)
source("01-process-icrisat-data.R")
dim(y)
dim(y)
y$nca 
y$gca 
dim(x)
x %>% filter(state_name %in% "Delhi")
names(x)
y[,c("nca","gca")]
names(y)
y[,c("nca","gca")]
y[,c("nca","gca")]
y[,c("nca","gca")]
y[,c("nca","gca")]
y[,c("nca","gca")]
y[,c("nca","gca")]
y[,c("nca","gca")]
y
x=y
irrigated_fraction 
cropping_intensity
irrigated_fraction 
irrigation_intensity
cropping_intensity
x$nca 
x$AREA 
y$AREA 
x$gca 
sf =10
x$gca 
x$gca 
q()
n
source("01-process-icrisat-data.R")
j
source("02-perform-allocation.R")
source("02-perform-allocation.R")
j=18
zaid_cropland_area 
zaid_cropland_area 
rabi_cropland_area 
multi_cropped_area 
gross_cropland_area - net_cropland_area
gross_cropland_area 
net_cropland_area 
dist_icrisat_data 
net_cropland_scale_factor 
gross_cropland_scale_factor 
net_cropland_area 
gross_cropland_area 
net_irrigated_area 
gross_irrigated_area 
zaid_crop_area
continuous_crop_fraction 
net_tubewells_area 
gross_cropland_area 
source("01-process-icrisat-data.R")
y$AREA 
y$AREA 
dim(x)
x$AREA
x$AREA
y$AREA 
y$AREA 
dim(x)
y$AREA 
names(y)
y$AREA 
y$nca 
x
select_dist(x, "Uttar Pradesh", "Agra")
select_dist(x, "Uttar Pradesh", "Agra")$AREA 
select_dist(x, "Uttar Pradesh", "Agra")$AREA 
src 
names(src)
src$AREA
new_shp 
area 
q()
n
area 
source("01-process-icrisat-data.R")
sf=1
df = data.frame(x=1:10,y=1:10)
df %<>% mutate_each(~.*sf, all_of(c("x","y")))
df 
sf
sf=10
df %<>% mutate_each(~.*sf, all_of(c("x","y")))
df 
source("01-process-icrisat-data.R")
area 
which(icrisat_data_2005$dist_name %in% "Murshidabad")
which(icrisat_data_2005$dist_name %in% "Murshidabad")
df %<>% mutate_each(~.*sf, all_of(c("x","y")))
source("02-perform-allocation.R")
which(icrisat_data_2005$dist_name %in% "Murshidabad")
icrisat_data_2005$POLY_ID[78]
which(ids %in% 169)
j=102
dist_icrisat_data
multi_cropped_area 
zaid_cropland_area2 
rabi_cropland_area2 
zaid_irrigated_area 
rabi_irrigated_area 
total_irrigated_area 
gross_irrigated_area 
dist_icrisat_data
gross_irrigated_area 
zaid_irrigated_area 
irrigation_sw_area[["zaid"]]
irrigation_gw_area[["zaid"]]
calc_gross_irrigated_area 
gross_irrigated_area 
irrigation_source_frac
irrigation_source_area 
irrigation_source_area 
names(allocated_area_vals)
names(allocated_area_vals_list)
sum(allocated_area_vals_list$zaid_other_sources)
sum(allocated_area_vals_list$zaid_tanks)
sum(allocated_area_vals_list$zaid_tubewells)
zaid_total 
sum(zaid_total )
source("02-perform-allocation.R")
sour
source("02-perform-allocation.R")
j=102
zaid_irrigated_area 
rabi_irrigated_area 
continuous_irrigated_area
kharif_irrigated_area 
gross_irrigated_area
kharif_irrigated_area 
kharif_cropland_area 
gross_irrigated_area - rabi_irrigated_area - zaid_irrigated_area - continuous_irrigated_area
gross_irrigated_area 
rabi_irrigated_area 
zaid_irrigated_area 
gross_cropped_area
gross_cropland_area 
net_cropland_area 
rabi_irrigated_area 
zaid_irrigated_area 
kharif_irrigated_area 
net_sw_area 
net_gw_area 
irrigation_gw_area
irrigation_sw_area 
q()
n
source("02-perform-allocation.R")
j=102
kharif_total 
rabi_total 
zaid_total 
zaid_total 
as.data.frame(allocated_area_vals_list[6:10]) %>% as.tibble 
net_sw_area 
kharif_total 
as.data.frame(allocated_area_vals_list[6:10]) %>% as.tibble 
as.data.frame(allocated_area_vals_list[6:10]) %>% head
as.data.frame(allocated_area_vals_list[6:10]) %>% head
kharif_total < rabi_total 
target_kharif_total 
target_kharif_total < rabi_total 
target_kharif_total < zaid_total 
allocated_area_vals_list[11:15]
as.data.frame(allocated_area_vals_list[11:15])
as.data.frame(allocated_area_vals_list[11:15]) %>% head 
names(allocated_area_vals)
irrigation_gw_area
irrigation_gw_source
irrigation_source_frac
kharif_df$kharif_o
kharif_extra 
target_kharif_total
max(kharif_extra)
ow_irr 
tw_irr 
allocated_area_vals_list 
sum(rowSums(kharif_df))
sum(rowSums(rabi_df))
sum(rowSums(zaid_df))
sum(rowSums(zaid_df))
sum(rowSums(rabi_df))
sum(rowSums(kharif_df))
gross_irrigated_area 
sum(rowSums(kharif_df))
sum(rowSums(zaid_df))
sum(rowSums(rabi_df))
target_kharif_total 
suit_vals_list[["canal"]]
suit_vals_list[["canal"]]
crop_frac_vals 
suit_vals_list[["canal"]]
q()
n
source("02-perform-allocation.R")
poly 
dim(poly)
names(poly)
ids 
?raster::extent
extent(poly[poly$POLY_ID %in% ids,])
template 
template 
ids 
template 
source("02-perform-allocation.R")
source("02-perform-allocation.R")
q()
n
